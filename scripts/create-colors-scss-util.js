const fs = require('fs');

const webcolors = require('../node_modules/@johnshopkins/brand-colors/config/web-colors.json');
const palettecolors = require('../node_modules/@johnshopkins/brand-colors/config/palettes.json');

const lines = [
  '// This file is generated by `npm run create-colors-scss-util.',
  '',
  '$black: #000;',
  '$white: #fff;',
  '',
];

// compile web colors
lines.push('// brand colors');
webcolors.map(color => {
  lines.push(`$${color.slug}: #${color.hex};`)
});

// compile expanded palette colors
lines.push('', '// expanded palettes');
for (const name in palettecolors) {
  const paletteName = name.replace(' ', '-').toLowerCase();
  for (const grade in palettecolors[name]) {
    lines.push(`$${paletteName}-${grade}: #${palettecolors[name][grade].hex};`);
  }
}


// write
fs.writeFile('./src/shared/scss/utils/colors.scss', lines.join('\n'), (err) => {
  if (err) {
    console.error('Error writing to file:', err);
    return;
  }
  console.log('SUCCESS!');
});
